<!DOCTYPE html>
<html>
<head>
  <link rel="shortcut icon" href="/images/hand.ico">
  <link rel="stylesheet" href="/css/game.css">

  <title>Signs</title>
</head>
<body>
  <div class="header">
    <h1>B I E N V E N I D O S</h1>
  </div>
  
 

  <input type="hidden" value="<%= @points[0] %>" name="module_id">
  <div class="container">
    <div class="module">
      <h2>ABECEDARIO</h2>
      <img src="/images/abecedario.png" alt="ABECEDARIO">
      <div class="button-container">
        <a href="/game/module/1/exam/1">Examen</a>
        <a href="/learn/1/1">Aprender</a>
      </div>
      <progress id="file" max="50" value="<%= @points[0] %>"> </progress>

    </div>
    
    <div class="module">
      <h2>SALUDOS</h2>
      <img src="/images/saludo.png" alt="Saludos">
        <div class="button-container">
        <a href="/game/module/3/exam/11">Examen</a>
        <a href="/learn/3/11">Aprender</a>
      </div>
      <progress id="file" max="50" value="<%= @points[2] %>"> % </progress>
    </div>
    
    <div class="module">
      <h2>FAMILIA Y AMIGOS</h2>
      <img src="/images/familia.png" alt="Familia Y Amigos">
      <div class="button-container">
        <a href="/game/module/2/exam/6">Examen</a>
        <a href="/learn/2/6">Aprender</a>
      </div>

      <progress id="file" max="50" value="<%= @points[1] %>"> % </progress>

    </div>
  </div>
  
 <div class="menu-buttons">
  <img class="corner-image" src="/images/Dipper.png" alt="Corner Image" onclick="toggleMenu()">
  <div class="toggle-bar">
    <a class="btn menu" href="/logout">Cerrar sesion</a>
    <a class="btn menu" href="/ranking">Ranking</a>
    <a class="btn menu" href="#" onclick="showProfile()">Perfil</a>
  </div>
</div>
    <div class="profile-container" style="display: none;">
        <div class="frame">
        <div class="center">
        <div class="profile">
          <div class="name">Hola <%= @user.name %> !</div>
          <div class="image">
            <img id="selectedProfilePicture" src="/images/profile8.jpeg" width="70" height="70">
          </div>
            <select id="profilePictureSelect" class = "btn option">
              <option value="/images/profile1.jpeg">👩🏽‍🦱</option>
              <option value="/images/profile2.jpeg">👩🏽‍🦳</option>
              <option value="/images/profile3.jpeg">🧑🏼</option>
              <option value="/images/profile4.jpeg">👩🏼‍🦰</option>
              <option value="/images/profile5.jpeg">🧛🏻‍♂️</option>
              <option value="/images/profile6.jpeg">🧒🏻</option>
              <option value="/images/profile7.jpeg">👩🏻</option>
              <option value="/images/profile8.jpeg">🎃</option>
              <option value="/images/profile9.jpeg">👱🏻‍♀️</option>
              <option value="/images/profile10.jpeg">🧓🏻</option>
            </select>         
        </div>
        
        <div class="stats">
          <div class="box">
            <% total_points = @points.sum %>
            <% max_points = @modules.count * 100 %>
            <% completed_modules = ((total_points)*100) / 150 %>
            <span class="value"><%= completed_modules %> % </span>
            <span class="parameter"> Modulos <br> completados </span>
          </div>
          <div class="box">
            <% best_points = @points.max %>
            <span class="value"><%= best_points %></span>
            <span class="parameter">Mejor <br> puntacion</span>
          </div>
        </div>
      </div>
    </div>
    </div>

    <footer>
      <p>Signs - Equipo FLDSMDFR</p>
      <p>UNRC - 2023</p>
    </footer>


    <script>
      var profilePictures = [
        "/images/profile1.jpeg",
        "/images/profile2.jpeg",
        "/images/profile3.jpeg",
        "/images/profile4.jpeg",
        "/images/profile5.jpeg",
        "/images/profile6.jpeg",
        "/images/profile7.jpeg",
        "/images/profile8.jpeg",
        "/images/profile9.jpeg",
      ];
      function toggleMenu() {
        var menu = document.querySelector('.toggle-bar');
        menu.style.display = (menu.style.display === 'none' || menu.style.display === '') ? 'block' : 'none';
      }

      function showProfile() {
        var profileContainer = document.querySelector('.profile-container');
        if (profileContainer.style.display === 'none' || profileContainer.style.display === '') {
          profileContainer.style.display = 'block';
        } else {
          profileContainer.style.display = 'none';
        }
      }

    var profilePictureSelect = document.getElementById('profilePictureSelect');
    var selectedProfilePicture = document.getElementById('selectedProfilePicture');

    profilePictureSelect.addEventListener('change', function () {
      var selectedValue = profilePictureSelect.value;
      selectedProfilePicture.src = selectedValue;
    });
    </script>

</body>


</html>

